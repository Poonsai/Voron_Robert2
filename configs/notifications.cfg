#####################################################################
#   Notifications Configuration
#   Telegram/Discord notification setup
#####################################################################

# Telegram/Discord notifications via Moonraker
# 
# To enable notifications:
# 1. Configure in moonraker.conf
# 2. Add notification endpoints
#
# Example moonraker.conf additions:
#
# [telegram]
# bot_token: YOUR_BOT_TOKEN
# chat_id: YOUR_CHAT_ID
#
# [discord]
# webhook_url: YOUR_WEBHOOK_URL

[gcode_macro NOTIFY_PRINT_START]
description: Send notification when print starts
gcode:
    {% set file = printer.virtual_sdcard.file_path|default("unknown") %}
    M118 [Notification] Print started: {file}
    # Add actual notification command here

[gcode_macro NOTIFY_PRINT_END]
description: Send notification when print completes
gcode:
    {% set stats = printer.virtual_sdcard.print_stats %}
    {% set duration = (stats.print_duration / 60)|round(0)|int %}
    M118 [Notification] Print complete! Duration: {duration}min

[gcode_macro NOTIFY_ERROR]
description: Send notification on error
gcode:
    {% set msg = params.MSG|default("Unknown error") %}
    M118 [Notification] ERROR: {msg}

# Usage in your macros:
# Add these calls to your PRINT_START and END_PRINT macros
# to receive notifications
