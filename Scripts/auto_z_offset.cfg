[gcode_macro CALIBRATE_Z_OFFSET]
gcode:
    # Home all axes
    G28

    # Run your contact probe calibration to determine and set the proper Z offset.
    # Ensure that BEACON_AUTO_CALIBRATE is configured to execute a contact-based calibration routine.
    BEACON_AUTO_CALIBRATE

    # Save the updated Z offset settings to the printer configuration.
    SAVE_CONFIG

    # Display a confirmation message on your printer.
    M117 "Z Offset Calibration Complete!"
